{
  "AppSettings": {
    "copyFields": "parent:AppSettings",
    "ServicePublicUrl": "http://$(parent.AppSettings.HostName:(parent.AppSettings.HostName2:localhost)):5121"
  },
  "JWT": {
    "copyFields": "parent:JWT",
    "ValidIssuer": "http://localhost:5121/"
  },
  "JWTPostMergedWithParent": {
    "ValidIssuer": "http://localhost:5121/",
    "copyFields": "parent:JWT"
  },
  "JWTPreMergedWithThisJson": {
    "copyFields": "JWT",
    "ValidIssuer": "http://localhost:5121/"
  },
  "JWTPostMergedWithThisJson": {
    "ValidIssuer": "http://localhost:5121/",
    "copyFields": "JWT"
  },
  "JWTCopiedFromParent": "$value(parent.JWT)",
  "JWTCopiedFromThisJson": "$value(JWT)",
  "WebRequestLogger": [
    "$merge(parent.WebRequestLogger)",
    {
      "copyFields": "parent.WebRequestLogger['Default']",
      "LogWebRequest": "true"
    },
    {
      "copyFields": "WebRequestLogger['IsAlive']"
    },
    {
      "Id": "Login",
      "Paths": [
        "/account/login",
        "/account/login-no-redirect"
      ],
      "LogWebRequest": "true",
      "LogWebRequestBody": "false"
    }
  ],
  "TestArrayItemCopyFromThisJson": [
    "$merge(WebRequestLogger)",
    {
      "LogWebRequest": "true"
    }
  ],
  "TestComplexPaths": "$value(WebRequestLogger[4].Select(x => x.Paths))",
  "TestPathWithId": "$value(WebRequestLogger.Where(x => x.Id=='Login').Select(x => x.Paths))",
  "RabbitMq": "$value(parent.RabbitMq)",
  "Rebus": {
    "copyFields": "parentRebus",
    "BusConfigurations": [
      {
        "BusName": "DefaultMessageSender",
        "QueueName": "AuthorizationServer_DefaultMessageSender",
        "ErrorQueueName": "AuthorizationServer_DefaultMessageSender_Errors",
        "RebusNumberOfWorkers": 1,
        "RebusMaxParallelism": 1,
        "MaxDeliveryAttempts": 5,
        "SentMessageResponseTimeoutSeconds": 10
      },
      {
        "BusName": "DefaultMessageHandler",
        "QueueName": "AuthorizationServer",
        "ErrorQueueName": "AuthorizationServer_Errors",
        "RebusNumberOfWorkers": 10,
        "RebusMaxParallelism": 10,
        "MaxDeliveryAttempts": 5,
        "SentMessageResponseTimeoutSeconds": 10
      }
    ]
  },
  "ConnectionStrings": [
    {
      "CSType": "OROptimizer.Settings.ISqlConnectionStringConfiguration, OROptimizer.Settings",
      "ConnectionStringName": "AuthorizationDbConnectionString",
      "DataSource": {
        "ServerVarName": "DATABASE_SERVER"
      },
      "InitialCatalog": {
        "ServerVarName": "DATABASE_NAME"
      },
      "PersistSecurityInfo": true,
      "UserId": {
        "ServerVarName": "DATABASE_USER"
      },
      "Password": {
        "ServerVarName": "DATABASE_PASSWORD"
      },
      "TrustServerCertificate": true
    }
  ]
}
